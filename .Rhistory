source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
library(RODBC)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(filterLine)
View(finalSet)
View(filterLine)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
filterLine
source('~/.active-rstudio-document', echo=TRUE)
View(filterLine)
source('~/.active-rstudio-document', echo=TRUE)
View(filterLine)
addedLine <- c(datei, FilterId, filterLine$BBGTicker, filterLine$Weight)
source('~/.active-rstudio-document', echo=TRUE)
View(filterLine)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(finalSet)
source('~/.active-rstudio-document', echo=TRUE)
View(finalSet)
source('~/.active-rstudio-document', echo=TRUE)
View(finalSet)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(finalSet)
library(RODBC)
rm(list =ls(all=TRUE))
date <- "2015-3-24"
fundId <- 110
assetId <- '0216238'
finalSet <- data.frame(Date = as.Date(character()),
assetId = character(),
Weight = numeric(),
stringsAsFactors=T)
str(finalset)
source('~/.active-rstudio-document', echo=TRUE)
print(c(AS.date(wDate), assetId, as.numeric(filterLine$Weight)))
print(c(as.Date(wDate), assetId, as.numeric(filterLine$Weight)))
library(RODBC)
rm(list =ls(all=TRUE))
date <- "2015-3-24"
fundId <- 110
assetId <- '0216238'
finalSet <- data.frame(Date = as.Date(character()),
assetId = character(),
Weight = numeric(),
stringsAsFactors=T)
str(finalSet)
library(RODBC)
rm(list =ls(all=TRUE))
date <- "2015-3-24"
fundId <- 110
assetId <- '0216238'
finalSet <- data.frame(pDate = as.Date(character()),
assetId = character(),
Weight = numeric(),
stringsAsFactors=T)
str(finalSet)
source('~/.active-rstudio-document', echo=TRUE)
View(finalSet)
source('~/.active-rstudio-document', echo=TRUE)
View(finalSet)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(finalSet)
source('W:/MillerE/RProjects/ODBCtest/appendingToDF.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
par("mar")
par(mar=c(1,1,1,1))
plot(portfDate, filterLine$Weight)
dev.off()
plot(portfDate, filterLine$Weight)
plot(portfDate, filterLine$Weight)
plot(portfDate, filterLine$Weight, type="l")
plot(portfDate~ filterLine$Weight, type="l")
plot(portfDate, filterLine$Weight, type="1")
plot(portfDate, filterLine$Weight)
library(lattice)
plot(filterLine$pDate, filterLine$Weight)
plot(as.numeric(filterLine$pDate), filterLine$Weight)
length(filterLine$pDate)
plot(x=pDate, y=Weight, data=filterLine)
plot(x = finalSet$pDate, y = finalSet$Weight, xlab = "Date", ylab = "Weight", main="A Graph to Show the Weighting of Aviva over the last 90 days")
source('~/.active-rstudio-document')
View(finalSet)
View(finalSet)
x <-finalSet$pDate
y <-finalSet$Weight
qplot(x,y)
ggplot(data.frame(x, y), aes(x,y)) + geom_point() +
xlab("")
library(ggplot2)
x <-finalSet$pDate
y <-finalSet$Weight
qplot(x,y)
ggplot(data.frame(x, y), aes(x,y)) + geom_point() +
xlab("")
source('~/.active-rstudio-document')
x <-finalSet.max$pDate
y <-factor(finalSet.max$Descr)
qplot(x,y)
ggplot(data.frame(x, y), aes(x,y)) + geom_point() + xlab("")+ylab("")
View(finalSet.max)
write.csv(file=dataSetFinal, x=finalSet.max)
write.csv(file="dataSetFinal", x=finalSet.max)
perfData <- read.table("performanceData.csv",header=TRUE, sep=",")
View(perfData)
str(perfData)
perfData <- read.table("performanceData.csv",header=TRUE, sep=",")
perfData <- read.table("performanceData.csv",header=TRUE, sep=",")
View(perfData)
str(perfData)
View(portfDate)
View(perfData)
perfData <- read.table("performanceData.csv",header=TRUE, sep=",")
View(perfData)
View(perfData)
save(perfData, file = "PerfData.Rda")
> head(perfData)
source('~/.active-rstudio-document')
View(perfData)
source('~/.active-rstudio-document')
View(perfData)
source('~/.active-rstudio-document')
View(perfData)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
stringsAsFactors=T)
finalData <- data.frame(rDate = as.Date(character()),
Ticket = character(),
AbsCont = numeric(),
Descr = character(),
stringsAsFactors=T)
View(finalData)
for(i in seq(0, 728, by=7)) {
wDate <- as.character(as.Date(date)+i)
#print(wDate)
perfData$WeightwDate <- NULL
perfData$priceChangewDate <- NULL
perfData$ReturnwDate <- NULL
head(perfData)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(perfData)
View(perfData)
View(perfData)
View(perfData)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(perfData)
print(perfData)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
perfData <- read.table("performanceData.csv",header=TRUE, sep=",")
str(perfData)
date <- "20130627"
finalData <- data.frame(rDate = as.Date(character()),
Ticket = character(),
AbsCont = numeric(),
Descr = character(),
stringsAsFactors=T)
for(i in seq(0, 728, by=7)) {
wDate <- as.character(as.Date(date)+i)
#print(wDate)
perfData$WeightwDate <- NULL
perfData$priceChangewDate <- NULL
perfData$ReturnwDate <- NULL
}
str(perfData)
source('~/.active-rstudio-document')
str(perfData)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(perfData)
source('~/.active-rstudio-document')
columnNames <- grep("Contribution", column.names(perfData))
columnNames <- grep("Contribution", colnames(perfData))
columnNames
contrOnly <- subset(perfData, select = columnNames)
View(contrOnly)
contrOnly <- subset(perfData, select = c(1,2,columnNames))
View(contrOnly)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(contrOnly)
abs(contonly)
abs(contronly)
abs(contrOnly)
contrOnly[] <- lapply(contrOnly, abs)
contrOnly
View(contrOnly)
contrOnly <- abs(contrOnly)
for (i in 1:ncol(contrOnly)){abs(i)}
sort(contrOnly$col(i), decreasing = TRUE)
t(contrOnly)
View(contrOnly)
contrOnly <- t(contrOnly)
View(contrOnly)
wDate <- as.character(as.Date(date)+i)
wDate <- as.character(as.Date(date)+i)
library(RODBC)
source('P:/MillerE/RProjects/ODBCtest/appendingToDF.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(finalData)
View(perfData)
View(contrOnly)
View(perfData)
View(contrOnly)
# get the data from the file
perfData <- read.csv("performanceData.csv",
header = TRUE,
sep = ",",
stringsAsFactors = F)
str(perfData)
perfData <- perfData[-1,]
View(perfData)
twoCols <- perfData[,  names(perfData) %in% c("Ticker","SecurityName")]
View(twoCols)
# get the relevant data upon which we have to perform our calcs
rawdata <- perfData[, !(names(perfData) %in% c("Ticker","SecurityName"))]
View(rawdata)
rawdata <- as.data.frame(lapply(rawdata, as.numeric))
str(rawdata)
perfSet <- data.frame(pDate = as.Date(character()),
assetName = character(),
assetId = character(),
assetW = numeric(),
assetRet = numeric(),
assetContr = numeric(),
stringsAsFactors=T)
View(twoCols)
source('P:/MillerE/RProjects/ODBCtest/createPerfData_MC.R')
View(perfSet)
View(perfSet)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(finalSet.max)
source('P:/MillerE/RProjects/ODBCtest/createPerfData_MC.R')
View(perfSet)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(final)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(final)
source('~/.active-rstudio-document')
View(final)
View(finalSet.max)
final <-merge(x = finalSet.max, y = perfSet, by = "pDate", all = TRUE)
View(final)
View(finalSet.max)
source('~/.active-rstudio-document')
source('P:/MillerE/RProjects/ODBCtest/createPerfData_MC.R')
source('~/.active-rstudio-document')
View(perfSet)
source('P:/MillerE/RProjects/ODBCtest/appendingToDF.R')
source('P:/MillerE/RProjects/ODBCtest/Risk_WeightRatioAnalysis.R')
View(finalSet.max)
source('P:/MillerE/RProjects/ODBCtest/createPerfData_MC.R')
source('~/.active-rstudio-document')
View(final)
View(final)
write(final,file="table_Real_Expected.xls")
write(final,"table_Real_Expected.xls")
write(final, "table_Real_Expected.xls")
write(final, "final.xls")
write(final, file="final.xls")
write.csv(final, "table_Real_Expected.xls")
source('~/.active-rstudio-document')
View(finalSet.max)
View(finalSet.max)
source('~/.active-rstudio-document')
View(finalSet.max)
source('~/.active-rstudio-document')
View(finalSet.max)
source('~/.active-rstudio-document')
View(finalSet.agg)
View(finalSet.max)
source('P:/MillerE/RProjects/ODBCtest/createPerfData_MC.R')
source('~/.active-rstudio-document')
View(final)
riskset <- finalSet.max
#uniquePerfComp <- unique(perfSet[,c("assetName", "assetCode")])
#uniqueRiskComp <- unique(riskSet[,c("AssetId", "Descr")])
perfSet[3] <- lapply(perfSet[3], as.character)
#amend assetIds for performance data
#Ash
perfSet$assetCode[perfSet$assetCode == "005367"] <- "0053673"
#TC
perfSet$assetCode[perfSet$assetCode == "B1VYCH"] <- "B1VYCH8"
#BTG
perfSet$assetCode[perfSet$assetCode == "010015"] <- "0100159"
#JE
perfSet$assetCode[perfSet$assetCode == "BKX5CN"] <- "BKX5CN8"
#OP
perfSet$assetCode[perfSet$assetCode == "342645"] <- "3426454"
combSet <- merge(perfSet, riskSet, by.x = "pDate" , by.y = "pDate")
combSet$Test <- combSet$assetCode == combSet$AssetId
match <- sum(combSet$Test)/nrow(combSet)
riskSet <- finalSet.max
#uniquePerfComp <- unique(perfSet[,c("assetName", "assetCode")])
#uniqueRiskComp <- unique(riskSet[,c("AssetId", "Descr")])
perfSet[3] <- lapply(perfSet[3], as.character)
#amend assetIds for performance data
#Ash
perfSet$assetCode[perfSet$assetCode == "005367"] <- "0053673"
#TC
perfSet$assetCode[perfSet$assetCode == "B1VYCH"] <- "B1VYCH8"
#BTG
perfSet$assetCode[perfSet$assetCode == "010015"] <- "0100159"
#JE
perfSet$assetCode[perfSet$assetCode == "BKX5CN"] <- "BKX5CN8"
#OP
perfSet$assetCode[perfSet$assetCode == "342645"] <- "3426454"
combSet <- merge(perfSet, riskSet, by.x = "pDate" , by.y = "pDate")
combSet$Test <- combSet$assetCode == combSet$AssetId
match <- sum(combSet$Test)/nrow(combSet)
source('~/.active-rstudio-document')
View(finalSet.max)
x <-finalSet.max$pDate
y <-factor(finalSet.max$Descr)
qplot(x,y)
ggplot(data.frame(x, y), aes(x,y)) + geom_point() + xlab("")+ylab("")
View(finalSet)
View(finalSet)
View(finalSet.max)
for(i in seq(0, 700, by=7)) {
source('~/.active-rstudio-document')
)))
source('~/.active-rstudio-document')
assetId <- 'B1VYCH8'
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('P:/MillerE/RProjects/ODBCtest/appendingToDF.R')
source('~/.active-rstudio-document')
finalSet <- readRDS("riskSet_allData")
finalSet.agg <- aggregate(RiskByWeight ~ pDate, finalSet, max)
# then simply merge with the original
finalSet.max <- merge(finalSet.agg, finalSet)
finalSet.max$Descr <- factor(finalSet.max$Descr)
x <-finalSet.max$pDate
y <-factor(finalSet.max$Descr)
qplot(x,y)
ggplot(data.frame(x, y), aes(x,y)) + geom_point() + xlab("")+ylab("")
finalSet.agg <- aggregate(RiskByWeight ~ pDate, finalSet, max)
# then simply merge with the original
finalSet.max <- merge(finalSet.agg, finalSet)
finalSet.max$Descr <- factor(finalSet.max$Descr)
finalSet.max
x <-finalSet.max$pDate
y <-factor(finalSet.max$Descr)
qplot(x,y)
ggplot(data.frame(x, y), aes(x,y)) + geom_point() + xlab("")+ylab("")
qplot(x,y)
ggplot(data.frame(x, y), aes(x,y)) + geom_point() + xlab("")+ylab("")
library(RODBC)
library(ggplot2)
x <-finalSet.max$pDate
y <-factor(finalSet.max$Descr)
qplot(x,y)
ggplot(data.frame(x, y), aes(x,y)) + geom_point() + xlab("")+ylab("")
source('P:/MillerE/RProjects/ODBCtest/createPerfData_MC.R')
source('P:/MillerE/RProjects/ODBCtest/testOfMVaR.R')
source('P:/MillerE/RProjects/ODBCtest/createPerfData_MC.R')
source('~/.active-rstudio-document')
source('P:/MillerE/RProjects/ODBCtest/testOfMVaR.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('P:/MillerE/RProjects/ODBCtest/createPerfData_MC.R')
View(perfSet)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(perfData)
View(perfSet)
source('~/.active-rstudio-document')
source('P:/MillerE/RProjects/ODBCtest/Risk_WeightRatioAnalysis.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('P:/MillerE/RProjects/ODBCtest/total risk.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
riskSet <- readRDS("totalassetWeights")
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(combSet)
source('~/.active-rstudio-document')
View(combSet)
source('P:/MillerE/RProjects/ODBCtest/createPerfData_MC.R')
View(perfSet)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(combSet)
source('~/.active-rstudio-document')
View(combSet)
combSet[combSet$Test = T]
combSet[combSet$Test = T,]
combSet[combSet$Test == T,]
nrow(combSet[combSet$Test == T,])
View(combSet)
success <- combSet[combSet$Test == T,]
View(success)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(success)
source('~/.active-rstudio-document')
View(success)
source('~/.active-rstudio-document')
View(success)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
View(finalSet)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
choose(100,20)*1/60
choose(100,20)*60
100!
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
x <- x*1/60
source('~/.active-rstudio-document')
x <- n/r
n <- factorial(100)
r <- factorial(80)
x <- n/r
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
